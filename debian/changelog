ngcp-rtpengine (5.4.0.0+0~mr5.4.0.0) unstable; urgency=medium

  [ Anthony Alba ]
  * [b8a2f01] Initial support for AES-192, AES-256 in userspace
  * [357bb1d] Refactor to add explicit session key init functions
  * [d5cecc5] Add AES-192, AES-256 CM to kernel SRTP
  * [37b2235] Fix typos in DBG array indexing
  * [74b2559] AES CM static test vectors
  * [87aaf82] Document RFC 3711 errata id 3712 that SRTCP_R_LENGTH == 6 is canonical
  * [b1e259c] Document libsrtp AES-256 SRTCP bug for interop

  [ Frederic-Philippe Metz ]
  * [8f01e78] First attempt to seperate more stats and cdr away from the core running code
  * [95d9420] Adds missing log output
  * [27679b1] Moved the json reader locally and removed it from call struct
  * [d885875] Cleanup according to pull req #335

  [ Richard Fuchs ]
  * [7088e15] remove obsolete redis restore function arguments
  * [3739042] rename macro due to collision
  * [5c0dc62] consolidate AES crypto suites for different key lengths
  * [6f37bad] TT#13277 additional DB fields for call metadata
  * [46d1498] TT#13277 logging improvements
  * [305fbed] TT#12789 add defaults file item for NFS mount options
  * [a2c4a41] include support for AES-192 and -256 in simulator test script
  * [af1db75] support _32 crypto versions in simulator
  * [dab9fdb] additional logging and segfault fix
  * [2afbfa5] fix resampling if frame doesn't have number of channels set
  * [a8a4ed4] disallow arbitrarily large silence gaps
  * [263099c] fix module compilation for kernels >= 4.10
  * [e85759a] fix some errors caught by coverity
  * [323da16] adding top level makefile
  * [6594b2b] fixes for coverity
  * [7182e75] abandon usage of random()
  * [5dcd533] ensure positive random numbers
  * [a850ebf] TT#13954 don't fail kernel "clean" target when build env is not there
  * [aef463f] handle missing av_frame_get_channels from older versions
  * [af7b2d0] refine version test for presence of av_frame_get_channels
  * [27af349] fix recording daemon logging levels
  * [6b6b8ea] don't use anonymous unions to make old compilers happy
  * [0f07e46] fix 32-bit compilation errosr
  * [f7e2419] fix kernel module for systems with small stack frame sizes
  * [d269f6a] eliminate orphaned redis code fragments
  * [26ca489] use pkg-config to determine install location for iptables module
  * [c5a202e] write both types of media indexes to recording metafile
  * [531febb] migrate log-stderr and log-facility options to lib for recording daemon
  * [37a9521] don't treat media socket write errors as fatal
  * [896a324] add test script to replay pcap into recording daemon
  * [5e3ce30] TT#14008 add missing DTLS locks
  * [4313cb2] logging improvements
  * [5acf56d] additional debug log output
  * [0e60000] use cloned frames to avoid race conditions
  * [6ec7c9e] fix mem leaks
  * [b358363] TT#12800 canonicalize ssrc handling
  * [223c7f1] TT#12800 abstractize rtcp parsing and logging functions
  * [c1711ea] TT#12800 consolidate and combine RTCP parsing and logging
  * [70b7112] TT#12800 store and process RTCP SR and RR for statistics
  * [90693a1] TT#12800 refactor RCTP XR processing
  * [0f28589] TT#12800 avoid creating empty log messages
  * [84e76e7] TT#12800 calculate MOS values from RTCP RR
  * [74be799] TT#12800 add RTCP support to perl test scripts
  * [0b63050] TT#12800 add test script to simulate RTP packet loss
  * [868c3b6] TT#12800 add ssrc handling into packet_stream struct
  * [11dac7b] TT#12800 add MOS statistics to final log output
  * [5c84a6f] TT#12800 limit size of SSRC hash table
  * [4ad693a] TT#12800 report MOS stats back to proxy via NG protocol
  * [9108b14] TT#12800 records stats average not just for MOS but all values
  * [2cf9390] TT#12800 restore SSRC table from redis
  * [ab0dba7] TT#12800 support custom monologue labels
  * [23bc99e] TT#12800 consider RTCP XR reports for MOS calculations and stats
  * [2a03c00] clean up code artifacts
  * [8f55dd1] fix pushing wrong SSRC to kernel module
  * [6f5da56] add extra error logging to kernel module
  * [3f12517] report last error when port could not be opened

  [ Claudiu Boriga ]
  * [edac4f2] make cli_incoming accept multiple connections

  [ Victor Seva ]
  * [3c813ac] support wheezy build reported at #343
  * [f7aa5fa] TT#14571 PEP8 for YouCompleteMe config

  [ Guillem Jover ]
  * [bd833c2] TT#14400 Use a boolean instead of a bitwise operator
  * [0b1bdbb] TT#14400 Do not NULL-dereference pointer
  * [56b723c] TT#14400 Do not check for negative values on unsigned variables

  [ Konstantin Poliakov ]
  * [5c5a4ef] Issue354: Fixes for rtpengint to ngcp-rtpengine renaming issues (including issue 356).

  [ Pawel Kuzak ]
  * [c8b36e0] More control over iptables

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 16 May 2017 21:44:37 +0200

ngcp-rtpengine (5.3.0.0+0~mr5.3.0.0) unstable; urgency=medium

  [ Frederic-Philippe Metz ]
  * [749a7da] Implements redis onekey concept
  * [9ebd06f] Some fixes for pull request #316
  * [6a3bcf5] Fixes STR_FMT comment my @rfuchs or pullrequest 316
  * [88b89ea] Fixes STR_FMT comment my @rfuchs or pull request #316
  * [ed760fb] Fix more issues from richards comments
  * [ea9512c] Adds URI encoding for json strings in redis.
  * [f3364d9] Omits redisreply in redis restore and eliminates 'multikey' feature
  * [14b37eb] Removes multikey stuff
  * [6985784] Fixes redis recording flag in onekey concept
  * [d08dd6a] Fixes SRTP restore in onekey concept
  * [279e5fa] Removes commented code
  * [d904fb2] Removes 'json-' prefix from redis key (callid)
  * [267b57c] Implemented comments from Richard from pull req #323

  [ Richard Fuchs ]
  * [2992031] TT#10252 add lsb-base to package depends as per lintian
  * [8b18bc5] TT#10155 split recording daemon into separate debian package
  * [f77726c] update redis one-key concept
  * [f5cc21f] TT#10156 write recordings metadata into mysql database
  * [d8cc8ca] combine two mallocs into one for redis restore
  * [d513c6d] add missing lock for failed call restores
  * [9a5cba4] use more precise avcodec/avformat version test macros
  * [76ba587] TT#13000 add init.d setuid/setgid capability
  * [db6a37a] TT#13000 handle output avio context failure
  * [b4694eb] port of a3f27f8751c to kernel space
  * [846886c] TT#13000 include recording filename suffix in db data
  * [4566bd3] TT#13005 store recording metadata to database

  [ Michael Prokop ]
  * [5784cb7] TT#10155 Use stop/start behavior for init script's restart action

  [ Victor Seva ]
  * [89393e1] TT#11400 debian: fix binary only builds
  * [77f9e4c] TT#12000 ngcp-rtpengine-daemon.default: add missing TABLE

  [ Anthony Alba ]
  * [1fc77bc] base64: flush base64 decoding, and skip base64 padding in crypto line
  * [3e2e024] Determine base64 padding from enc_salt_key_len

  [ Changli Gao ]
  * [a3f27f8] STUN: The most significant 2 bits is 0xc0 in hex

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 22 Mar 2017 11:02:14 +0100

ngcp-rtpengine (5.2.0.0+0~mr5.2.0.0) unstable; urgency=medium

  [ Pawel Kuzak ]
  * [65e80f6] Added flag 'no-redis-update'
  * [d2314ea] Reduced complexity in onRedisNotification()

  [ Richard Fuchs ]
  * [d7fa068] TT#5566 rudimentary wav file output
  * [eefb085] abstractize recording format and fix ipv6 header
  * [67fa3ff] add recording format switch to init/defaults file
  * [cfbe534] TT#5566 deal with lost RTP packets
  * [7395f8b] TT#5566 recognize and ignore (for now) RTCP packets
  * [30dcada] TT#5566 rudimentary support for multiple audio codecs
  * [3b68c26] TT#5566 support different sample rates and fix g722 clock rate
  * [147b8b8] TT#5566 force usage of libopus for opus decoding
  * [f958b2a] split logging mechanism into separate common files
  * [1de1706] don't engage logging system if log level is too low
  * [ea72733] support daemonizing in recording daemon
  * [5c22c3c] add additional audio codecs
  * [28b8018] TT#5566 add support for config file handling
  * [fb783f0] TT#5566 configurable recording daemon
  * [a2391f9] kfree_skb must be called lock-free
  * [9e38b8f] modernize debian init.d script to eliminate warnings
  * [a2afd79] TT#5566 support mp3 audio output
  * [7b21df9] split output/encoding stuff into separate file
  * [9ce3522] TT#5566 support audio resampling and custom mp3 bitrates
  * [e0fb30e] TT#5566 split ssrc_run() into smaller functions
  * [df869ff] automate lib symlink creation in makefiles
  * [040d1be] TT#5566 loop over encoding and decoding as required by the specs
  * [97183b1] make sure call_destroy unrefs the correct call object
  * [5a54cc1] TT#5566 support mixing all audio channels into one output
  * [3aa302f] TT#5566 memory allocation fixes
  * [82be334] TT#5566 align mixed audio's timecodes to each other
  * [b0b2a86] TT#5566 allow for up to 4 mix inputs and fix silence padding
  * [9036d30] fix call struct being accessed after obj_put
  * [42216b8] TT#5566 more output config options
  * [537c60b] fix segfault when avcctx could not be initialized
  * [2b72fde] fix segfault when resampling fails
  * [1d5668d] compile fixes for openssl >= 1.1.0
  * [fb81332] handle multiple different sample types

  [ Kristian Høgh ]
  * [29488f9] Change pcap format to ethernet
  * [0edfb2d] Make pcap file format an option Valid options are raw and eth. Default is raw as it was before last commit. fixes #290
  * [901de55] Document recording-format in README
  * [57d6e01] Support IPv4/IPv6 for fake ethernet frames

  [ Marcel Weinberg ]
  * [b215389] some small fixes; updated the specs file to be compatible to rtpengine 4.5 and CentOS 7.2

  [ Lucian Balaceanu ]
  * [cef493a] Pictures for Internal data structures and Redis correlations wiki

  [ Frederic-Philippe Metz ]
  * [a0c36c5] Stricter build dependencies

  [ Karsten Horsmann ]
  * [06922c5] Update rtpengine.init

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Fri, 03 Feb 2017 00:43:05 +0100

ngcp-rtpengine (5.1.0.0+0~mr5.1.0.0) unstable; urgency=medium

  [ Pawel Kuzak ]
  * [4a03b9b] Add REDIS_EXPIRES to default configuration file

  [ Dinu ]
  * [a4ea7c0] Make --dtls-passive available from ngcp-rtpengine-daemon.init

  [ Lucian Balaceanu ]
  * [252ea8a] Delete from redis_write when redis_restore_call() fails
  * [877952a] redis restore call fails when a sfd is null
  * [e08f477] Empty other_ml stops call creation

  [ Richard Fuchs ]
  * [94e3c8f] TT#3881 re-enable selective packet loop check
  * [303a40b] TT#3881 re-enable selective packet loop check
  * [9aa4aec] don't complain if no spool directory is configured
  * [0a2a3cb] fix candidates being inserted after a=end-of-candidates
  * [1ebc9d9] update simulator-ng to moved perl modules
  * [c5c0b70] prevent segfault when no recording metadata is given
  * [50daef0] support recording flag in simulator-ng
  * [984585a] TT#5003 implement kernel-side call recording
  * [0a593cf] solve a kernel mem leak when strict-source is set and triggered
  * [e3a7248] resolve segfault when recording is disabled
  * [411c3b3] TT#5566 checkin of external call recording daemon
  * [6f33c1a] fix kernel module build for kernels < 3.9
  * [3977e94] TT#5566 decode RTP streams
  * [5395db3] fix segfault when source endpoint address isn't filled

  [ Alexander Lutay ]
  * [ce46149] TT#5748 Fix typo in debian/ngcp-rtpengine-daemon.init

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 17 Nov 2016 23:21:05 +0100

ngcp-rtpengine (5.0.0.0+0~mr5.0.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [2e5e2ec] detect and ignore when local endpoints are advertised by remote clients
  * [c50b042] fix kernel forwarding problem when RTP extensions are present

 -- Alexander Lutay <alutay@sipwise.com>  Tue, 27 Sep 2016 15:40:23 +0200

ngcp-rtpengine (4.6.0.0+0~mr5.0.0.0) unstable; urgency=medium

  [ Lucian Balaceanu ]
  * [25bbf03] Set timeout of 3s for send/receive socket operations
  * [e043670] redundant media setup: failover due to tout on offer response
  * [448fa9c] Redundant media setup: failover due to tout on offer response
  * [bd376ab] Adding redis_expires parameter
  * [512cc24] Print relay IP information
  * [278561b] Printing severity level within every log message
  * [e7f63dc] Report own/foreign/total sessions to Graphite
  * [5732121] Beautifying previous code
  * [8d08930] Fix log severity duplicate printing
  * [e468449] Make --log-stderr available from ngcp-rtpengine-daemon.init

  [ Eric Green ]
  * [70eb6b9] Record raw RTP to recording files on the filesystem.
  * [a8576eb] Do not convert to network byte ordering before we are done using a variable
  * [0e1892f] recording.c fix my tabbing to use actual tabs
  * [c8bf1a7] call.h now include media_socket.h to reflect the move of the stream_fd struct
  * [1ee8ef1] Update README.md to reflect new SDP schema
  * [04b71dd] Add back free that fixes memory leak introduced by rebase
  * [865ce9a] Remove unused variables (from refactor) in the stream_fd struct
  * [9637e7b] Fix function header of rand_affixed_str to match header definition
  * [aea277d] Add a mutex lock for recording to ensure thread safety when writing to pcap
  * [ba93a08] Add libcurl dependency for recording
  * [f5c7ff1] Make rtpengine.spec more compatible with el7

  [ Dylan Mikus ]
  * [a714fbc] Record RTP in PCAP files in the /tmp directory.
  * [7cc8019] Added metadata string to call struct.
  * [c8af44a] Made random filename with affixes generic.
  * [692b129] Create metadata file and move it to spool directory when call finishes.
  * [7c53e9f] Moved file system management and random string code to appropriate files.
  * [89690b4] Write out call start and end timestamps to recording metadata file.
  * [f36faef] Code bug fixes and safety checks around error-possible code.
  * [2c1685b] Added command line option for the spool directory for recordings.
  * [8f6d7c0] Logging cleanup and added recording filesystem logging messages.
  * [fa4cd75] Added documentation on call recording and the spool directory to README.md.
  * [f516684] All RTP packet data for a call goes to one PCAP file.
  * [7acc323] Write out unique ip:port pairs for all streams.
  * [1af73c6] Fixed description of metadata file format to list just one pcap file.
  * [74999ab] Free the call->recording struct when the call is destroyed.
  * [844abee] Don't free the metadata before writing it to metadata file
  * [b3d6073] Prefix recording metadata and pcap files with call id
  * [1cec331] Only turn on or off recording if explicitly specified
  * [d604ff6] Set more permissive permissions in spool directory
  * [c787ab9] Refactored NG protocol handling of "record call" settings
  * [b35ca7d] Record answer SDP to recording metadata file
  * [466c52c] Refactored recording setup to streamline it
  * [0b33b48] Write out rewritten SDP from answer to metadata file
  * [d09f34a] Updates to description of metadata file format
  * [adb6193] Minorly adjusted the recording metadata file format
  * [beab4d9] Write recording files in url-encoded format
  * [abd9538] Fixes to match PCAP packets with SDP
  * [d267a3b] Tweaks to log verbosity for some messages
  * [a109fa2] Change metadata file permissions and fix some warnings
  * [526e9c2] Get recording metadata call start from call struct
  * [5fe68b9] Link recording metadata SDP to RTP packet numbers
  * [209cb7a] Modifications to recording metadata start/end time lines
  * [fa8146f] Fixes for recording packet counter
  * [44a153c] Made interactions to recording metadata threadsafe

  [ Joseph Frazier ]
  * [e69fc25] Document `record-call` and `ICE` flag interaction

  [ Pawel Kuzak ]
  * [70a1085] Do not print statistics of foreign calls
  * [3cda22f] Fix Lintian error for ngcp-rtpengine-utils package
  * [2499c4d] Make utils package part of meta package
  * [db96f61] Configuration file support for recording-dir

  [ Richard Fuchs ]
  * [cac076f] clean up makefile for libpcap
  * [a3c703b] remove superfluous initialization
  * [90242e3] prefer libpcap0.8-dev over obsolete libpcap-dev

  [ Charlotte Oliver ]
  * [8e58e6a] Add xt_RTPENGINE modules.load.d file to load xt_RTPENGINE on system boot

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 01 Aug 2016 16:37:16 +0200

ngcp-rtpengine (4.5.0.0+0~mr4.5.0.0) unstable; urgency=medium

  [ Frederic-Philippe Metz ]
  * [541e299] Implemented redis-notification base feature.
  * [1ee88db] Fixed SEGFAULT for RTPENGINE-64
  * [447148b] Stop event loop on shutdown
  * [d7ca576] Fixed issues with terminating event_loop
  * [48543b4] Intermediate State: Notifications enabled by cli
  * [bf38f15] Fix for restoring notified call from own redis db
  * [354307e] Removed graphite hostname and 'totals' in graphite names
  * [fd3e234] Implemented redis notification according to RTPENGINE-64
  * [8b65c18] Removed also the '.' of the graphite prefix
  * [9ca0be5] Reset deletion timers for in-responsible calls
  * [5af1d8f] redis operations on the keyspace are now related to the keyspace they belong to
  * [637d1f4] Locked redis context on redis notification
  * [1ca0cc5] Implemented session limitation logic

  [ smititelu ]
  * [b38f3da] Redis nofitications fixes
  * [98a86d3] Fix segfault when ps->component=0

  [ Michael Prokop ]
  * [472fce8] MT#17699 Fix m-a build error + Bump Standards-Version for ngcp-rtpengine-kernel

  [ Stefan Mititelu ]
  * [7377b90] Add/Retrieve ps->component to/from redis
  * [763502d] Add sanity checks
  * [9ec8ac6] Upgrade rtpengine-ctl tool
  * [1648757] Fixes after first review
  * [f392d9b] Update notifications flag logic
  * [ce3ae37] Fixes after second review
  * [b35a8dd] Fix memory leak on redis notifications
  * [ee0216e] Update obj_* debugging text
  * [bd7abe6] Fix memory leak for notifications feature
  * [27ecb36] Free redis.c reply object memory leak
  * [1881fc5] Free call's main queues in __call_free()
  * [2024f9e] Remove unused code remnants
  * [11e94c4] Add >= idx check for redis_list_get_idx_ptr()

  [ Richard Fuchs ]
  * [5aa7ef4] fix kernel module build for 4.4+ kernels
  * [3ab2c63] MT#17699 augment module makefile version detection
  * [133e630] MT#18599 support sending RTCP stats to Homer via HEP
  * [8267966] MT#18599 use glib GString for RTCP logging
  * [b5e36c2] MT#18599 simplify RTCP parsing
  * [6187f51] MT#18599 support parsing of RTCP SDES fields
  * [d45f928] MT#18599 limit Homer send queue size
  * [29545e5] MT#18599 use kernel socket receive timestamping
  * [05f0317] fix the 'media address' parameter
  * [0206f09] fix obj-debug stuff
  * [a813ddf] fix compiler warnings due to conflicting int types
  * [ee960b7] dont do DTLS when in passthrough mode
  * [942966b] force bencode strings as strings in perl ng-client
  * [1f8d8d7] DTLS tests - WIP
  * [bf8c6d9] split ICE stuff into packages
  * [bc30f83] incorporate dtls stuff into tests
  * [83d6600] unify testing framework - wip
  * [d8d5e1b] include timer handling in test lib
  * [4f75c36] diversify test scripts
  * [ec10dbc] support ice test script
  * [3306edf] remove legacy test scripts
  * [e608cb0] move .pm to separate directory
  * [50bc73c] support sending of rtp
  * [db8284f] support nominating ice WIP
  * [2b5e8ff] support sending rtp over ice negotiated peer WIP
  * [f25c254] implement ice keepalives
  * [65d4752] support checking of received rtp data
  * [af788f1] additioanl tests and flags
  * [b6b0b90] move dedicated tests into t/
  * [f83f674] fix perl namespaces - move into NGCP::
  * [cd937f1] create ngcp-rtpengine-utils package
  * [351bc10] staticize function

  [ Lucian Balaceanu ]
  * [8fb677b] Fix stats foreign_sessions if redis_restore fails
  * [859a505] Fix (foreign|own)_session, call_duration stats: modify call_get_or_create to set stats and foreign call state
  * [2a05b85] Take end time of call monologue from terminated field
  * [e2d78d9] Fix overflow of graphite call_duration statistic

  [ Sergey Lavrov ]
  * [cf39d07] fix typo and error in rtpengine.init

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 23 May 2016 19:02:50 +0200

ngcp-rtpengine (4.4.0.0+0~mr4.4.0.0) unstable; urgency=medium

  [ Lucian Balaceanu ]
  * [937bb71] Adding images to illustrate redis database layout
  * [7ae955c] Fixing reversed parameters when calculating redis restore time

  [ Guillem Jover ]
  * [df2126f] MT#16473 Convert debian/copyright to machine-readable format

  [ Pawel Kuzak ]
  * [ca04c96] Make creation of iptables chain optional
  * [3f4cfff] Fixed inconsistency in rtpengine-ctl list totals

  [ Joseph Frazier ]
  * [8fbb0d3] Add hiredis-devel to daemon deps in README.el.md
  * [2877f76] Add hiredis-devel to daemon BuildRequires

  [ Richard Fuchs ]
  * [7635f51] add hiredis dependency to README
  * [6f2dc00] allow srtp-debug-helper to specify the ROC
  * [b85a9e3] fix two memory leaks
  * [5926048] don't just ignore but also strip invalid/unknown a=crypto
  * [c9d797a] retain outgoing DTLS role whenever possible
  * [d81c8df] move struct sdp_ng_flags from sdp.h to call_interfaces.h
  * [b0a3898] fix sfd assignments when remote port changes
  * [5dbadc4] implement port latching option
  * [38d031c] fix support for AF switching on the fly
  * [43bcabf] fix logic for unspecified ipv6 addresses
  * [ff26e00] add STUN SOFTWARE attribute into ICE checks and responses
  * [59cfb4f] fix incorrect padding in stun software attr
  * [5b33498] fix RTCP content output
  * [77d074c] fix length of software STUN attribute
  * [b828122] move advertised_address out of intf_spec into local_intf
  * [1c56865] fix iovec overflows
  * [27d18e2] fix stun xor port response
  * [725638b] remove redis-role redundancy
  * [d8e1e9f] simplify redis CLI options
  * [3f1ae98] unify -r/-R and -w/-W options into single options
  * [c1407d6] support Redis server authentication
  * [f52884e] report errors returned from redis
  * [c4f630c] fix kernel module build for 4.4+ kernels
  * [926d9d3] MT#17699 augment module makefile version detection

  [ smititelu ]
  * [6378a1e] Graphite change global to local parameters
  * [0395a24] Change the graphite connection state logic
  * [e48252e] Change abort() behaviour of redis_check_conn()
  * [7d03f3d] Improve Redis connection logging
  * [50aef80] Rtpengine starts even if redis is down
  * [33e72ba] Skip redundant log if r->ctx->err != NULL
  * [0447177] Add NO_REDIS_REQUIRED new parameter
  * [74ad505] Update README.md for NO_REDIS_REQUIRED parameter
  * [65de793] Add config REDIS_NUM_THREADS param
  * [eee5a65] Update doku for REDIS_NUM_THREADS
  * [a6b4b86] Fix segfault when ps->component=0
  * [bac271b] Add callmaster config lock

  [ Frederic-Philippe Metz ]
  * [e376335] Removed graphite hostname and 'totals' in graphite names

  [ Michael Prokop ]
  * [47a9564] MT#17699 Bump Standards-Version to 3.9.7
  * [b4a6653] MT#17699 Fix m-a build error + Bump Standards-Version for ngcp-rtpengine-kernel

  [ Stefan Mititelu ]
  * [5e7640b] Add/Retrieve ps->component to/from redis
  * [9be68a0] Add FINAL_TIMEOUT parameter
  * [ef39aa3] Add rtpengine-ctl list/set timeout
  * [4343ff0] Update rtpengine-cli set maxopenfiles
  * [05302c2] Update rtpengine-cli set maxsessions
  * [57aa566] Add offer/answer/delete processing statistics
  * [a43996f] Add 'unidirectional' attribute

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 21 Mar 2016 22:31:18 +0100

ngcp-rtpengine (4.3.0.0+0~mr4.3.0.0) unstable; urgency=medium

  [ Frederic-Philippe Metz ]
  * [10f6e51] Replaced sprintf by snprintf for cdrbuffer
  * [8219921] Extended callid space for list_* output

  [ smititelu ]
  * [c406e6d] Some ICE NULL checks
  * [637f9f9] Add logging related to kernelization and strict-source flag - master branch
  * [4b92d14] Allow more than 65536 open files
  * [c44c35a] Add 'rtpengine-ctl list maxsessions' command
  * [00bb10b] Add 'rtpengine-ctl set maxsessions X' command
  * [012bcc4] Add 'rtpengine-ctl list maxopenfiles' command
  * [06b1293] Update rtpengine-ctl util
  * [c969ab9] Change maxsessions feature behaviour
  * [32a4299] Update README.md for --max-sessions
  * [0309123] Update README with REDIS details

  [ Camille Oudot ]
  * [fad4074] allow non-root users to control the kernel module
  * [5a8f5c3] add possibility to choose rtpengine process user
  * [88ce85e] remove kernel module uid/gid global switch
  * [6f6a703] add option to set the group owning /proc/rtpengine
  * [548b710] disable procfs uid/gid for kernels prior to 3.10

  [ Richard Fuchs ]
  * [99a3faf] MT#15289 add "reset" flag to un-learn certain parameters
  * [ed75c99] fix a memory leak
  * [1a67331] fix compiler warnings
  * [28d877b] remove superfluous ice agent warning
  * [2cff49b] support reset flag in ng-client
  * [1c6eec4] additional DTLS debug log messages
  * [59a69f0] Improve DTLS packet processing
  * [cae0b4b] compile fix for debug builds
  * [afa46a4] use `reset` flag to also reset and restart ICE agents
  * [6d3865b] Mass update - manual merge of rfuchs/socket-rework branch
  * [6b5c4e8] Mass update for non-daemon code (see `6d3865b`)
  * [31d28a3] MT#16783 support via-branch matching in `delete` messages
  * [cd34dde] fix missing redis expiry times
  * [cb53218] fix incomplete dialogue association when initial offer contains to-tag

  [ Lucian Balaceanu ]
  * [41fa252] Replacing redis hashkeys with -CALLID_IDX instead of -POINTER
  * [8ee14e5] Fixing managed_sess_min interval statistic.

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 16 Dec 2015 09:33:26 +0100

ngcp-rtpengine (4.2.0.0+0~mr4.2.0.0) unstable; urgency=medium

  [ Stefan Mititelu ]
  * [47ac2c7] Added a bridgeport GQueue to the 'struct call'
  * [159d86d] Add codec info in CDR logging

  [ Richard Fuchs ]
  * [08cb513] fix missing stack var initialization
  * [87feafc] MT#14817 don't reset crypto on non-filled packet stream
  * [59b0f33] ignore endpoint changes when ICE is in use
  * [c6ff5e7] disable in-kernel RTP PT stats for kernels < 3.0
  * [e7ad477] fix kernel compilation for older kernel versions
  * [a934fb4] fix compiler warning
  * [dafde10] MT#15157 integrate redis module into main code tree
  * [1956712] always strip a=mid attributes
  * [83ebe70] clean up payload_types-X before populating it

  [ Damian Ivereigh ]
  * [0390782] Now works with firewalld - creates a permanent chain called INPUT_prefilter which is before the conntrack stuff in the INPUT tables. We then create our temporary rtpengine chain from that. Also brought in some of the IPv6 stuff from the standard Centos init script
  * [57e25ea] Added back in volga629's changes to allow multiple interfaces - also duplicated the same for IPv6
  * [198b0c9] Removed all the IP6 options
  * [76bebd5] Put back the ipv6 tables entries (without the IF wrapper).

  [ Eric Tamme ]
  * [bef76d4] add macros that get older versions of glib to compile if gcc is being used - credit to paulandrewhughes

  [ Lucian Balaceanu ]
  * [f864da7] Adding per graphite interval statistics: min/max concurrent calls, total call time per interval
  * [482b004] CLI output for Graphite statistics
  * [e5665c8] Add --help/-h. Fix truncated ctl output for large commands

  [ smititelu ]
  * [2ed14aa] Solve packet errors due to payload type
  * [63db6b6] Log redis restore time
  * [72cf55b] Specific REDIS read and write databases

  [ Pawel Kuzak ]
  * [c214996] Reorganized CLI output

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 12 Oct 2015 15:46:13 +0200

ngcp-rtpengine (4.1.0.0+0~mr4.1.0.0) unstable; urgency=low

  [ Frederic-Philippe Metz ]
  * [ec5a543] Added prefix config parameter to graphite acc. to OPS
  * [6bc7a77] First try of implementation of measureing delay.
  * [d98d17b] Implemented non blocking connect to graphite due to firewall issues.
  * [6e7a287] Modified average_dur format for graphite.
  * [e0f9c59] Implemented stage 1 of measuring delay
  * [bd24127] Revert "First try of implementation of measureing delay."
  * [6d33ef7] Implemented delay measurement of RTP packets in kernel.
  * [cca0f2b] Replaced rtpengine-ctl shell script with perl script.
  * [070212e] Added RTCP parsing and option to log that information
  * [f8aaf35] Implemented TOS/Traffic Class bit in received first RTP packet
  * [5635a8c] Replaced rtpengine-ctl shell script with perl script.
  * [8a0fbf2] Fixed RTCP parsing of bitfield structs.
  * [1d1b8f2] Fixed RTCP Parsing also for XR reports.
  * [cb85cbf] Fixed wrong Zeroing of stats member
  * [c444c05] Implemented MAX_SESSIONS limit or calls.

  [ Richard Fuchs ]
  * [3acc850] zero-fill padding bytes
  * [d502084] fix refcount bug
  * [4ea8d96] remove stray compiler warning
  * [ba48d7b] fix call timeout when ICE fails
  * [13d8b8a] fix ICE when no candidates are present (trickle ICE)
  * [46ebfa3] do not detect trickle ICE RTCP port as rtcp-mux
  * [83a4082] fix number of ICE components for tricke-ICE no-components case
  * [b0edf59] don't reset certain stream flags for disabled (zero port) streams
  * [e7868da] increase size of RTP loop protection buffer to 28 for RTCP
  * [39a305f] reset SRTP ROC to zero when SSRC changes
  * [fd42645] use SRTP<>SRTP transcoding when crypto parameters differ
  * [96e3b91] Implement support for some SDES session parameters
  * [d422237] support SDES session parameters in kernel module
  * [144a451] support selective SDES session parameters
  * [85dc64d] compare SRTP session params for equality
  * [b205691] RTP forwarding fix for trickle ICE
  * [0abf5b1] process muxed RTCP
  * [ae46036] RTCP logging fixes
  * [29cf9f8] remove redundant code
  * [18977d4] remove calls to setlogmask (not atomic)
  * [ed2c101] preliminary fixup of new kernel stats - needs more work
  * [a3bcdc5] dont abort on unknown RTCP payload type
  * [0381b15] further move RTCP logging until after SRTCP decryption
  * [92cc560] don't shut down ICE agent on consecutive re-invites
  * [9c3ad50] use appropriate crypto context for encryption and decryption
  * [76f3893] ssrc tracking improvements
  * [c3c6d37] convert ssrc tracking functions to inline
  * [39392e2] fix ssrc in simulator-ng.pl
  * [5d6604a] SSRC/ROC debug tools for simulator-ng
  * [87fbbb8] implement ssrc/roc tracking in encryption as well
  * [409638e] simulator fixes for SDES session parameters
  * [e0fec75] kinda support the UDP/TLS/ protocols in simulator-ng
  * [f398d83] double check kernel SSRC when updating last index/ROC
  * [80b8815] fix force-relay segfault
  * [d567908] disable measuredelay features by default
  * [4893487] fix compiler warning
  * [d0ac721] skip printing cdr info when cdrs are disabled
  * [8eaf812] update redis version
  * [1e4d67a] fix for bf5a00fd1b
  * [a6d9c78] MT#13067 fix premature call timeout for un-answered calls
  * [eea3256] MT#12691 implement via-branch handling
  * [d17e26a] segfault fix for debug builds
  * [7ed4ed9] support immediate call deletion with delete-delay=0
  * [a811adb] support custom per-call/branch delete delay
  * [d9d8f97] support delete-delay passed as a string
  * [4b1d190] fix compiler warning - return const string
  * [5ba8e2e] MT#13737 don't add a=rtcp for non-RTP protocols
  * [21e1fb6] support elliptic curve key exchange for DTLS-SRTP

  [ Victor Seva ]
  * [46c60e5] MT#12519 debian/control: switch from Pre-Depends to Suggests for ngcp-system-tools package

  [ pkuzak ]
  * [6255d1f] Disable delay measurement by default

  [ Marc Soda ]
  * [65a3587] Use the proper ROC when encrypting.
  * [16b9184] Track SSRCs and sequence numbers.  Sync between userspace and the kernel.
  * [0ac1ed2] Remove unnecessary prototype.

  [ Kevin McAllister ]
  * [965fa39] Change packet_index functions to more closely match RFC
  * [3097f71] convert spaces to tab on comment.

  [ Pawel Kuzak ]
  * [ef84259] Added MAX_SESSIONS to README
  * [369316a] Added rejected sessions statistics to total stats and graphite
  * [bf5a00f] Modified average_dur format for graphite.

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 13 Jul 2015 15:35:03 +0200

ngcp-rtpengine (4.0.0.0+0~mr4.0.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [2db33ef] reset ICE/STUN retransmit data on triggered checks
  * [20ac7cd] process nominating ICE request only once per pair
  * [93294f8] don't relearn addresses if the endpoint hasn't changed
  * [0b202d8] Fall back to a different address family if the requested one is unavailable
  * [fd99ecf] don't close call on UDP send error
  * [c0fab9b] various fixes related to ICE negotation and rtcp-mux
  * [2cfc12b] fix incorrect free order of ICE components

  [ Peter Lemenkov ]
  * [eba4414] Remove BuildRoot
  * [597c35a] Remove duplicated text in descriptions
  * [49ed2a8] Remove autoadded deps
  * [b0240ee] Use generic dependency name for nc
  * [cd70a8f] Use proper versionin scheme
  * [8d56ed5] Typo fix in Source0 url
  * [9890371] Remove no longer required section
  * [234b454] Use macro instead of /etc/rc.d/init.d
  * [882731b] Remove double slash
  * [d25b697] Check for username,group before creating
  * [e71a7e1] Consistently use rtpengine name everywhere
  * [a6ab5b5] Restrict access to a working directory
  * [9a12b49] Don't specify access rights for _usrsrc dir
  * [3b27031] Explicitly set rights on dkms.conf as 644

  [ Alexander Lutay ]
  * [3a45a16] MT#7505 Add .gitreview file for rtpengine

 -- Alexander Lutay <alutay@sipwise.com>  Wed, 08 Apr 2015 17:26:40 +0200

ngcp-rtpengine (3.3.0.0+0~mr4.0.0.0) unstable; urgency=low

  [ Sergey Lavrov ]
  * [bb14eba] Fix %post/%preun directives.
  * [fe5e129] Added rtpengine-ctl and dependency to spec file.

  [ Richard Fuchs ]
  * [a0068f4] relax sdes key lifetime validation check
  * [caba5be] MT#10583 remember the "created from" address in raw format
  * [6e32379] MT#10583 support ipv6 control connection in simulator
  * [02d27d5] MT#10583 support b2bua callback to sip proxy address
  * [43cd3f5] reset other side's crypto params only in passthru mode
  * [2af682b] use SSL_CTX_set_read_ahead to fix for openssl 1.0.1k
  * [e24253a] move parse_ip(6)_port into aux.h
  * [a81588e] provide convenience function get_log_level()
  * [37d98ad] dump DTLS cert and keys
  * [57c0a84] add locking to totalstats
  * [f544471] fix compiler warnings
  * [36c7141] change control_ng_stats into a hash and use locking and atomic ops
  * [c0b2f3d] fix graphite code not to leak fds in error cases
  * [965d989] static'ize graphite global vars
  * [7175a26] decrease sleep time of graphite loop
  * [3882285] decrease calls to time() in graphite code
  * [de37ac0] use TLS buffer array for temporary strings
  * [ee4f2d2] convert ilog() into macro
  * [411a888] use atomic ops for stats
  * [28c6db9] fix references and locking in CLI
  * [20fd255] use UINT64F instead of %llu where appropriate
  * [3bc1672] more atomic stats, and fix average length calc
  * [fedaadd] remove superfluous \n from log messages
  * [1e3f06a] split some perl SRTP stuff into module and add debug script
  * [deba231] rename an old MP_ variable to RE_
  * [fb9ed6e] use trial & error approach to guess ROC in case of SRTP auth failures
  * [f6dee07] fix initial seqnum in simulator
  * [787d90f] rename atomic_uint64 to atomic64 for brevity
  * [49328cd] implement atomic64 for non-64-bit platforms
  * [da6b6a1] fix compiler warning on 32bit
  * [ca149e6] "long" can be 32 bits only and may truncate math
  * [b023d6c] update redis mod version to 7
  * [adeb0b3] the log rate limiter must take the prefix into account
  * [fb667a8] turn tag and termination texts into array lookups
  * [d79c68f] remove some unnecessary memsets
  * [a5f7315] string handling fixes and improvements
  * [037c6aa] shorter locking in stats loop
  * [f7a1594] more descriptive warning for failed kernelizing
  * [5fa9902] atomic vars should be volatile
  * [c21193a] fix byte stats in kernel module
  * [c2ff5c3] MT#9935 understand, learn, remember and report RTP payload types (codecs)
  * [b586fa7] fix memory leak
  * [65b3f66] use atomic64_t for kernel stats
  * [4a97bb1] attempt to work around trickle ice
  * [b44bb28] segfault fix
  * [015b2a9] legacy tcp protocol fix
  * [016f8b3] Rework logging a bit (primarily in NG)
  * [91a85e6] fix for skewed stats
  * [6173a7a] implement atomic bitfield ops
  * [1f7c8a2] remove obsolete HAS_HANDLER flag
  * [f224bab] segfault fix if no rtpmap attribute is present
  * [26ca844] drop support for glib versions older than 2.30
  * [b83e80c] add makefile dependency to itself
  * [956d07d] fix erroneously reported 0.0.0.0 address when bridging from ipv6
  * [f99d6d4] implement full ICE support
  * [98e0b6d] update for redis plugin
  * [0e4e6f2] revamp and move timeval functions
  * [26137d2] move thread loop functions out of main.c
  * [5fca71d] fix segfault when parsing server reflexive ICE candidates
  * [3520617] remove ice-lite mention from readme
  * [9593519] Leave unsupported (non-RTP) protocols alone when translation is requested

  [ Eric Tamme ]
  * [b8b17bf] clear crypto for BOTH legs when in passthrough mode
  * [506076b] add raddr and rport on all non host type candidates per rfc5245 section-15.1

  [ Carsten Bock ]
  * [9a2da87] Fix randomness source for key generation.

  [ Frederic-Philippe Metz ]
  * [2ae0e35] Added functionality to report statistics to graphite
  * [7446822] Forgot the files ..
  * [61a72b1] Added some more statistics.
  * [0ccb11a] Added statistics on control ng interface.
  * [794709f] Changed retry behaviour for connecting to graphite server.

  [ Michael Prokop ]
  * [fca4500] MT#9127 Bump Standards-Version to 3.9.6

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 18 Mar 2015 14:15:06 +0100

ngcp-rtpengine (3.3.0.0+0~mr3.8.0.0) unstable; urgency=low

  [ Richard Fuchs ]
  * [2460836] remove -e argument from awk
  * [19e0281] disable "list" NG command if glib version is too low
  * [b49f57b] avoid DTLS role change on reinvite
  * [d0beccb] dont break log lines when logging to stderr
  * [8c8ff56] fix pointer const declaration and make it static
  * [955de10] support proper DTLS shutdown and restart DTLS on FP change
  * [6757c27] add DTLS=passive option
  * [97b472b] dont break legacy control protocols
  * [f826d01] make "trust address" the default behaviour
  * [4c408e5] add --dtls-passive switch
  * [d272e9e] add more flags to stats output
  * [e09fbd2] dtls shutdown clears crypto context as well
  * [91221ef] move DTLS setup logic into separate function for readability
  * [50d1839] reset DTLS and crypto params when endpoints change
  * [3478629] dont output error message on stun SOFTWARE attribute
  * [a1786d6] segfault fix: ps->sfd can be null
  * [4077225] avoid unnecessary DTLS restarts
  * [7e72bfc] MT#10059 allow freeform interface definitions in init.d script
  * [935487b] avoid race condition by making OpenSSL thread safe
  * [dcfd703] deadlock fix
  * [0113991] MT#9585 rename kernel module and all related items from MEDIAPROXY to RTPENGINE
  * [276c7c8] report errno in log on sendmsg() error
  * [cccb0bf] add Recommends: netcat-openbsd | netcat for CLI patch
  * [43bcbcc] change created_from to an allocated string buffer
  * [0e531eb] change created_from to an allocated string buffer
  * [a8e5582] rtpengine-ctl: use $0 as name in help output
  * [d79bcfe] remove extraneous linefeed
  * [3cfeb5d] optionally allow broken SDPs as compile switch
  * [458a84c] remove obsolete RH $RTP_IP6 sysconfig option

  [ Frederic-Philippe Metz ]
  * [9886de4] cdrpatch.dpatch:
  * [947b35e] fixed_callduration_and_added_termination_reason_20141125:
  * [ee655bd] added_milliseconds_precision_for_CDR.patch:
  * [131c9e8] cli
  * [a871cd7] added_address_of_invoking_proxy
  * [5342158] added_information_of_from_to_tag:
  * [d623710] adaptions_for_ng_protocol:
  * [59329dd] VOIPTEST_220_delete delay
  * [4882d91] RTPENGINE-1_total_statistics_rectl.patch:
  * [b566581] VOIPTEST-231_session_duration_rectl_milliseconds.patch
  * [a4168be] RTPENGINE-12_Fixed_Segmentation_fault_if_only_offer_received.patch

  [ Victor Seva ]
  * [66a5137] Allow to choose CC
  * [f8e16b9] Add travis-ci configuration

  [ sybasesql ]
  * [b94bae8] Update rtpengine.init
  * [08ffc9c] Update rtpengine.sysconfig

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 07 Jan 2015 21:39:28 +0100

ngcp-rtpengine (3.3.0.0+0~mr3.7.0.0) unstable; urgency=low

  [ Frederic-Philippe Metz ]
  * [e77dd1a] create as many threads as cpus

  [ Richard Fuchs ]
  * [b66091b] make number of threads configurable
  * [07b6ea4] document new CLI flags
  * [a5c55fc] add NUM_THREADS to init scripts
  * [ba5ed24] kernel module didn't handle DTLS packets properly

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 30 Oct 2014 17:30:10 +0100

ngcp-rtpengine (3.3.0.0+0~mr3.6.0.0) unstable; urgency=low

  [ Richard Fuchs ]
  * [062256b] segfault fix for DTLS protocol errors
  * [b0c7efb] duplicate x509 in mem for delayed verification
  * [9ecb7da] allow for protocol renegotiation
  * [759ea60] adding some debug messages
  * [e1cfc19] fix incorrect port allocations
  * [e7aa743] change default a=crypto: tag from zero to one
  * [e883f57] better support protocol switching within a call
  * [4bf2ec7] correct data type for key lifetime
  * [b6ff15c] remove unnecessary a=inactive for zero-port media
  * [964b644] don't skip setting stream to actpass when not using sdes
  * [681b2c1] version reporting: use git branch and commit if available
  * [77829f9] split very long log lines into smaller pieces
  * [9d001e3] fix segfault if NG protocol is not used
  * [ec21806] use default TOS if not using NG protocol
  * [58940b5] change stun log levels
  * [8f4e345] increase default log level for debug builds
  * [e0957d1] fix TCP/UDP protocol stream output
  * [50f2bfb] allow for fqdn in o= line
  * [73b56db] Update CentOS definitions
  * [1f4f0d6] implement delayed call/branch deletion
  * [8a8dee5] support sdes key change in simulations
  * [5e129dd] brevity
  * [16b42fb] Switch around internal fromtag/totag/endpoint representation
  * [fe65671] simple port randomizer
  * [65812fa] limit the number of times the receive loop can run without breaking
  * [c0f8196] implement detection of duplicate packets to catch and avoid forwarding loops
  * [fccad69] segfault fix for tcp status command
  * [54f903d] bugfixes for legacy control protocols
  * [4d00147] s/force_relay/force-relay/
  * [0cbb466] paving the way to multi-interface support
  * [513ac44] incorporate new local-interface infrastructure into appropriate places
  * [e365572] receive local address from kernel and use it for outgoing packets
  * [45dee75] support specifying interfaces to use in control protocols
  * [1a39b86] readme update
  * [ddcf0f3] update init.d file
  * [d1165df] update EL specs/init file
  * [e830bf5] update for redis module
  * [af9625d] make multi-homing thread safe
  * [34ca29b] dont escape exclamation points in sh scripts
  * [3de07be] s/MEDIAPROXY/RTPENGINE/
  * [c1d7a52] MT#9065 daemon: don't restart if kernel is needed but not yet installed
  * [6379883] fix str_hash() for archs enforcing aligned pointers
  * [4658526] implement a crude log limiter
  * [6cf604d] fix comparison between int and bitfield

  [ Camille Oudot ]
  * [47b0252] fix null/empty string check in ng_call_stats
  * [a51db71] new command: 'list' to retreive the list of active call-ids
  * [6005d14] XMLRPC notifications: more formats
  * [81d8616] list command: several fixes + documentation
  * [faf3e22] logging: choose the log facility from the command line, or log to stderr

  [ Victor Seva ]
  * [f562844] MT8741 remove init script tricks

  [ Dipak Malla ]
  * [bfb41d1] Fixed linking error in Makefile

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 09 Oct 2014 16:54:38 +0200

ngcp-rtpengine (3.3.0.0+0~mr3.5.0.0) unstable; urgency=low

  [ Richard Fuchs ]
  * [cbe1f80] possible segfault fix
  * [ba1bd04] silence warning for kernelizing rtcp
  * [c9a101c] docs update
  * [ca138c3] fix kernel module debug output
  * [aa4f2fa] document SIGUSR1/2
  * [0bc4d3c] kernel srtp fix
  * [be500e1] prefer space to underscore in bencode
  * [c730895] update "query" output docs
  * [56ca361] sync bencode from kamailio
  * [b0c0e39] allow hyphenated versions of NG protocol flags
  * [a7784f5] try to fix null c= address issue
  * [2e9ae75] remove needless assertion
  * [e381e10] configurable per-call TOS value
  * [69dec02] fix inappropriate locking sequenece
  * [68d94c6] add --TOS to ng-client
  * [1564099] fix possible deadlock
  * [2a38b51] better ICE priority calc for non-RFC clients
  * [f6290f3] sample CLI usage for ng-client
  * [d37d385] properly handle unknown transport protocols
  * [9cbe157] properly support the udptl protocol

  [ Victor Seva ]
  * [02832db] MT#6485 detect container environment
  * [eb9dbd8] MT#6485 add proper checks for virt-identify
  * [c7e3911] MT#6485 add no_ngcp script to remove NGCP dependences

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 10 Jul 2014 15:36:42 +0200

ngcp-rtpengine (3.3.0.0+0~mr3.4.0.0) unstable; urgency=low

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 26 May 2014 16:00:30 +0200

ngcp-rtpengine (3.3.0.0+0~mr3.3.0.0) unstable; urgency=medium

  [ Victor Seva ]
  * [1b486a7] MT#6449 add -dev packages needed to build something with ngcp-librtpengine-dev
  * [d025f4b] MT#6449 fix typo

  [ Richard Fuchs ]
  * [f638f36] replace implicit bit fields with explicit ones
  * [5faf5e6] switch to C99 standard
  * [05e429c] C99 inlining rules
  * [c372019] re-enable redis module compatibility checks
  * [b6643e3] eliminate redis_uuid
  * [ec3daab] change name of redis plugin file
  * [91cae48] add core.* files to "make clean" target
  * [7c0cc4c] updates for redis support
  * [e19ca0a] introduce log level flags (LOG_FLAG_RESTORE)
  * [e2901eb] update README (primarily name change)
  * [5d49022] set media SDES flag when appropriate
  * [b132d80] redo flags to have a "shared flags namespace"
  * [aa5bae9] implement experimental passthrough relay mode
  * [9f1696d] use srtp<>srtp transcode if either side uses dtls
  * [838917b] compile fixes for older gcc versions
  * [88dfeee] fix compiler warning
  * [6c1cb06] fix relay ICE candidate type for RTP candidate
  * [09b9303] fix ICE priority calculation
  * [92cab83] remove unused variable
  * [011a426] restore query/stats output
  * [0a42f4a] fix timeout handling for silenced streams
  * [940030d] support kernel forward of non-rtp packets
  * [7d82016] implement source address checking - kernel part
  * [bb84ea5] implement explicit warning when kernel support is missing
  * [b9cf00b] obsolete the "symmetric" flag
  * [2036322] parse "strict source" and "media handover" flags
  * [eb59af9] more verbose timeout log message
  * [b8a39be] avoid log message redundancy
  * [4ded03d] implement media-handover and strict-source logic
  * [b905e73] included expected source in /proc output
  * [4fb151a] /proc output indentation fix
  * [3030324] sink must also be unlocked when peer address changes
  * [e9ff918] make call_destroy() global
  * [40790a7] whitespace cleanup & remove obsolete code

  [ Michael Prokop ]
  * [8e11a60] MT#6511 Bump Standards-Version to 3.9.5

  [ Juha Heinanen ]
  * [2dae4fb] support ICE=force_relay flag
  * [5198233] make ICE=force_relay leave SDP endpoint details alone

  [ Pablo Ruiz García ]
  * [cf76901] Do not try to install & initialize module if in kernel suppor has been specifically disabled (ie. TABLE < 0)

 -- Victor Seva <vseva@sipwise.com>  Mon, 26 May 2014 12:23:29 +0200

ngcp-rtpengine (2.9.9) unstable; urgency=low

  * Rename from mediaproxy-ng to rtpengine
  * Complete rewrite of internal media streams handling
  * Support for DTLS-SRTP
  * Support for unBUNDLE
  * Improved support for rtcp-mux
  * WIP

 -- Richard Fuchs <rfuchs@sipwise.com>  Tue, 04 Mar 2014 11:06:23 -0500

ngcp-mediaproxy-ng (2.4.0.0+0~mr3.3.0.0) unstable; urgency=low

  [ Richard Fuchs ]
  * [9edb5a3] attempt to lower idle CPU usage when reading list/blist
  * [50573f4] bit field/array fixes

 -- Alexander Lutay <alutay@sipwise.com>  Fri, 21 Mar 2014 15:26:25 +0100

ngcp-mediaproxy-ng (2.3.6+0~mr3.3) unstable; urgency=low

  * fix IPv4 TOS

 -- Richard Fuchs <rfuchs@sipwise.com>  Mon, 24 Feb 2014 12:40:53 -0500

ngcp-mediaproxy-ng (2.3.5+0~mr3.3) unstable; urgency=low

  [ Richard Fuchs ]
  * [eec41b8] fix mem leak
  * [3c4b387] fix the "media address" parameter to comply with the docs
  * [0f99aea] fix simulator rtcp-mux bug

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Sat, 01 Feb 2014 19:48:40 +0100

ngcp-mediaproxy-ng (2.3.5) unstable; urgency=low

  * update desired address family (based on "direction") when branching

 -- Richard Fuchs <rfuchs@sipwise.com>  Tue, 07 Jan 2014 16:09:50 -0500

ngcp-mediaproxy-ng (2.3.4) unstable; urgency=low

  * Kernel module compile fixes for kernels >= 3.10
  * Re-learn peer addresses after each signalling
  * Fix erroneous double lookup detection

 -- Richard Fuchs <rfuchs@sipwise.com>  Thu, 12 Dec 2013 05:48:12 -0500

ngcp-mediaproxy-ng (2.3.3) unstable; urgency=low

  * fix possible segfault on incorrect sp/SP flag usage

 -- Richard Fuchs <rfuchs@sipwise.com>  Wed, 06 Nov 2013 10:27:10 -0500

ngcp-mediaproxy-ng (2.3.2) unstable; urgency=low

  [ Richard Fuchs ]
  * [7d82cd2] updating README
  * [2f0ad34] update init script to "provide itself"
  * [97d3414] fix bug when trust-address isnt given
  * [5fa1c1e] dont fail on failed rm
  * [13ad042] rename some keys in the ng protocol (replace dash with space) but retain compatibility
  * [bbc5339] implement and document ng "media address"
  * [7e88b38] change port range defaults to match docs
  * [d63df52] merge bencode fix from kamailio source
  * [1a83499] fix incorrect source address of STUN binding responses
  * [f023ab4] update init script to handle ipv6 tables properly
  * [ace8130] merge bencode fix from kamailio source
  * [e90a7ec] change port range defaults to match docs
  * [b18d14e] Implement non-fatal warnings in NG replies and use them in "delete"
    (Closes: #12)

  [ Peter Dunkley ]
  * [130d485] Updated Makefiles and added compilation instructions to work with Enterprise Linux (tested on CentOS 6.4 64-bit).
  * [c7c3ee0] First go at creating a .spec file to build mediaproxy-ng for Enterprise Linux
  * [44fc40f] .spec file now builds iptables plugin. Kernel module (using DKMS) to follow.
  * [e322989] Updated documentation for Enterprise Linux
  * [6830b16] .spec file now builds kernel module using DKMS
  * [ce9ac35] Updated readme for Enterprise Linux
  * [c0572a0] More tidying of EL docs
  * [f16afa8] Added init.d script and config file
  * [3468c17] Fixes to init.d script and .spec
  * [10d991c] Updated documentation for Enterprise Linux
  * [7a14c45] updated to support new --log-level argument and use a new iptables chain
  * [454f65f] fix to iptables usage in init.d script
  * [dfe9cfb] updated rel in .spec file
  * [829e835] Updated to use DKMS from EPEL for Enterprise Linux builds

  [ Jon Bonilla ]
  * [ffd3231] Make mediaproxy use a new iptables chain

  [ oboisti ]
  * [d74c24f] added --log-level option and USR1 and USR2 signals to update log level on the fly

  [ Juha Heinanen ]
  * [e84c2f5] added log level handling to debian default file and init script

  [ Michael Prokop ]
  * [a1d21dc] MT#4569 ngcp-mediaproxy-ng-daemon does not need to Pre-Depend on ngcp-mediaproxy-ng-kernel-dkms.
    Thanks to Peter Dunkley for reporting (Closes: #9)

 -- Victor Seva <vseva@sipwise.com>  Tue, 29 Oct 2013 10:37:41 +0100

ngcp-mediaproxy-ng (2.3.1) unstable; urgency=low

  * Enforce stream correlation against same-numbered old streams
  * Fix incorrect source address of STUN binding responses

 -- Richard Fuchs <rfuchs@sipwise.com>  Mon, 21 Oct 2013 11:10:20 -0400

ngcp-mediaproxy-ng (2.3.0) unstable; urgency=low

  * Implements RFC 3711 (SRTP, RTP/SAVP), RFC 4585 (RTP/AVPF),
    RFC 4568 (SDES), RFC 5124 (RTP/SAVPF)
  * Supports userspace and kernelspace bridging between RTP/AVP,
    RTP/AVPF, RTP/SAVP and RTP/SAVPF in arbitrary combinations
  * Supoprt for some additional SDP attributes
  * Drops support for hosts without IPv6 stack

 -- Richard Fuchs <rfuchs@sipwise.com>  Tue, 02 Jul 2013 15:07:30 -0400

ngcp-mediaproxy-ng (2.2.1) unstable; urgency=low

  * Handle zero ports and addresses in NG protocol

 -- Richard Fuchs <rfuchs@sipwise.com>  Thu, 28 Mar 2013 10:14:00 -0400

ngcp-mediaproxy-ng (2.2.0) unstable; urgency=low

  * Adds support for the new NG protocol
  * Support ICE when running on NG protocol
  * STUN support for ICE support

 -- Richard Fuchs <rfuchs@sipwise.com>  Wed, 06 Feb 2013 14:08:13 -0500

ngcp-mediaproxy-ng (2.1.1) unstable; urgency=low

  * Don't reject lookups with unknown via-branches, instead
    remember the via-branches

 -- Richard Fuchs <rfuchs@sipwise.com>  Fri, 18 Jan 2013 10:11:06 -0500

ngcp-mediaproxy-ng (2.1.0) unstable; urgency=low

  * Better logging for XMLRPC calls
  * Implement UDP Q command for the $rtpstat pseudo-variable

 -- Richard Fuchs <rfuchs@sipwise.com>  Mon, 10 Dec 2012 08:53:14 -0500

ngcp-mediaproxy-ng (2.0.2) unstable; urgency=low

  * Don't fail on zero port in TCP controller
  * Fixes for locking problems and race conditions

 -- Richard Fuchs <rfuchs@sipwise.com>  Fri, 05 Oct 2012 10:33:15 -0400

ngcp-mediaproxy-ng (2.0.1) unstable; urgency=low

  * re-add init stuff

 -- Jon Bonilla <jbonilla@sipwise.com>  Fri, 24 Aug 2012 01:15:43 +0200

ngcp-mediaproxy-ng (2.0.0) unstable; urgency=low

  * Support XMLRPC callback to B2BUA/SBC to break calls upon RTP timeout
  * Split redis HA code into module
  * Support zero-length UDP packets on RTP sockets
  * Support large RTP packets (up to 8192 bytes)
  * Write packet statistics to log on call termination
  * Don't trigger call timeout when there's RTCP traffic
  * Supply -dbg package [mprokop]
  * Drop poll() in favor of epoll() for better performance
  * Implement multi-threaded operation
  * Fixes traffic class setting for IPv6
  * Fix bug that messed up packet stats for in-kernel streams
  * Various minor performance tweaks and bug fixes
  * Fix setting IPv4 source address when running with IPv6 enabled

 -- Richard Fuchs <rfuchs@sipwise.com>  Fri, 10 Aug 2012 10:21:53 -0400

ngcp-mediaproxy-ng (1.6.6) unstable; urgency=low

  * Support userspace-only operation mode

 -- Richard Fuchs <rfuchs@sipwise.com>  Wed, 16 May 2012 09:33:18 -0400

ngcp-mediaproxy-ng (1.6.5) unstable; urgency=low

  * Fix daemon failing to correctly interpret "delete full call" message

 -- Richard Fuchs <rfuchs@sipwise.com>  Fri, 04 May 2012 11:21:11 -0400

ngcp-mediaproxy-ng (1.6.4) unstable; urgency=low

  * Fix segfault

 -- Richard Fuchs <rfuchs@sipwise.com>  Tue, 06 Mar 2012 09:51:07 -0500

ngcp-mediaproxy-ng (1.6.3) unstable; urgency=low

  * Fix the UDP control protocol

 -- Richard Fuchs <rfuchs@sipwise.com>  Tue, 06 Mar 2012 07:12:47 -0500

ngcp-mediaproxy-ng (1.6.2) unstable; urgency=low

  * Check from/to tags in delete message
  * Implement via-branch handling
  * Don't strip debug symbols

 -- Richard Fuchs <rfuchs@sipwise.com>  Mon, 05 Mar 2012 04:31:07 -0500

ngcp-mediaproxy-ng (1.6.1) unstable; urgency=low

  * Correctly remember address family across re-invites etc

 -- Richard Fuchs <rfuchs@sipwise.com>  Wed, 08 Feb 2012 10:34:33 -0500

ngcp-mediaproxy-ng (1.6.0) unstable; urgency=low

  * Add full IPv6 support
  * Attempt to handle unparsable proxy commands as much as possible
  * Improve human-readable output in /proc
  * Fix handling of calls with multiple media streams

 -- Richard Fuchs <rfuchs@sipwise.com>  Thu, 26 Jan 2012 07:30:25 -0500

ngcp-mediaproxy-ng (1.5.3) unstable; urgency=low

  * Fix incorrect handling of lookups received without prior request
  * Fix a long-standing bug that caused from/to tags to be ignored when using UDP protocol
  * Properly timeout and cleanup UDP cookies
  * Fix table 0 not showing up in /proc/mediaproxy/list

 -- Richard Fuchs <rfuchs@sipwise.com>  Thu, 08 Dec 2011 11:05:30 -0500

ngcp-mediaproxy-ng (1.5.2) unstable; urgency=low

  * Fix bad tagging

 -- Richard Fuchs <rfuchs@sipwise.com>  Tue, 20 Sep 2011 10:41:42 -0400

ngcp-mediaproxy-ng (1.5.1) unstable; urgency=low

  * Return a dummy/error reply over UDP when a call doesn't exist, so
    kamailio doesn't think we're dead

 -- Richard Fuchs <rfuchs@sipwise.com>  Tue, 20 Sep 2011 10:41:42 -0400

ngcp-mediaproxy-ng (1.5.0) unstable; urgency=low

  * Rework port re-use logic so it never opens new ports when it doesn't
    need to.

 -- Richard Fuchs <rfuchs@sipwise.com>  Thu, 15 Sep 2011 10:42:57 -0400

ngcp-mediaproxy-ng (1.4.2) unstable; urgency=low

  * Slightly increase syslog verbosity
  * Fix obscure 3-way call connect issue

 -- Richard Fuchs <rfuchs@sipwise.com>  Fri, 02 Sep 2011 17:09:38 -0400

ngcp-mediaproxy-ng (1.4.1) unstable; urgency=low

  * Fix a memory leak

 -- Richard Fuchs <rfuchs@sipwise.com>  Wed, 10 Aug 2011 17:01:56 -0400

ngcp-mediaproxy-ng (1.4.0) unstable; urgency=low

  * Support HA through persistent Redis storage

 -- Richard Fuchs <rfuchs@sipwise.com>  Fri, 10 Jun 2011 13:50:50 -0400

ngcp-mediaproxy-ng (1.3.5) unstable; urgency=low

  * Fix dst reference count issues causing kernel warnings under some circumstances

 -- Richard Fuchs <rfuchs@sipwise.com>  Thu, 19 May 2011 13:43:16 -0400

ngcp-mediaproxy-ng (1.3.4) unstable; urgency=low

  * Make the daemon more aggressive with invalidating peer information

 -- Richard Fuchs <rfuchs@sipwise.com>  Thu, 05 May 2011 16:08:31 -0400

ngcp-mediaproxy-ng (1.3.3) unstable; urgency=low

  * Add --advertised-ip to defaults file.

 -- Andreas Granig <agranig@sipwise.com>  Wed, 04 May 2011 23:26:30 +0200

ngcp-mediaproxy-ng (1.3.2) unstable; urgency=low

  * Introduce --advertised-ip parameter
  * Minor code & help text cleanups

 -- Richard Fuchs <rfuchs@sipwise.com>  Tue, 03 May 2011 17:20:11 -0400

ngcp-mediaproxy-ng (1.3.1) unstable; urgency=low

  * dkms postinst: do not execute init script if it is not present yet.

 -- Michael Prokop <mprokop@sipwise.com>  Fri, 29 Apr 2011 17:18:41 +0200

ngcp-mediaproxy-ng (1.3.0) unstable; urgency=low

  * Release for 2.2
  * Fixed version number to align with old, non-debianized versioning scheme.

 -- Andreas Granig <agranig@sipwise.com>  Fri, 29 Apr 2011 12:01:56 +0200

ngcp-mediaproxy-ng (0.1) unstable; urgency=low

  * Initial release.

 -- Andreas Granig <agranig@sipwise.com>  Tue, 26 Apr 2011 18:55:01 +0200
